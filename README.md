# Spinnaker Toolbox

Simple tools to work with Spinnaker running in Kubernetes

## Assumptions:

1. Your laptop has the following tools installed:

- Terminal (like `iTerm`)
- `kubectl`
- [bat](https://github.com/sharkdp/bat)

2. You've access to a Spinnaker instance running on Kubernetes


## Tools and/or Notes

1. `showkeys.sh`

```bash
>showkeys spin-clouddriver-caching-files-1111076146
# Output
[
  "clouddriver-caching-overrides.yml",
  "clouddriver-caching.yml",
  "clouddriver.yml",
  "spinnaker.yml"
]
```

2. `showval.sh`

```bash
> showval spin-clouddriver-caching-files-1111076146 clouddriver-caching-overrides.yml
# Output
clouddriver-caching-overrides\.yml
       │ STDIN
───────┼─────────────────────────────────────────────────────────────────────────────
   1   │ ## WARNING
   2   │ ## This file was autogenerated, and _will_ be overwritten by Halyard.
   3   │ ## Any edits you make here _will_ be lost.
   4   │
   5   │ services:
   6   │   redis:
   7   │     enabled: true
   8   │     baseUrl: redis://:c0der0cks!@play-clouddriver-redis.spinnaker:6382
```

3. Besides the two useful shell scripts, `showkeys.sh` and `showvalue.sh`, the following commands can come in handy as well

```bash
# Get secrets sorted by creation date
kubectl get secrets -o wide --sort-by=.metadata.creationTimestamp

# List all entries inside a secret
k8sec list spin-clouddriver-rw-files-216714999 | awk -F' ' '{$1=$2=$3=""; printf "%s\n\n\n", $0}' | awk '{gsub(/\\n/,"\n")}1'

```
